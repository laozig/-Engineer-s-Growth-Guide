# 3. Linux 目录结构

在 Linux 系统中，"一切皆文件"。理解文件系统的目录结构是至关重要的，因为它组织了系统中的所有文件，从系统配置到用户数据。Linux 遵循 **文件系统层次结构标准 (Filesystem Hierarchy Standard, FHS)**，它定义了主要目录的名称、用途和内容。

这确保了不同 Linux 发行版之间具有相似和可预测的布局。

## 根目录 (`/`)

所有文件和目录都始于根目录 `/`。它是文件系统树状结构的顶点。

以下是根目录下一些最重要和最常见的目录：

---

### `/bin` - (Essential User Binaries) 基本用户命令

- 包含所有用户（包括普通用户和系统管理员）都可以使用的基本命令。
- 这些是在单用户模式下也必须可用的命令，例如 `ls`, `cp`, `mv`, `cat`, `echo`。
- 在许多现代系统中，`/bin` 是一个指向 `/usr/bin` 的符号链接。

### `/sbin` - (System Binaries) 系统二进制文件

- 包含只有系统管理员 (root) 才能使用的系统管理命令。
- 用于系统维护和管理，例如 `fdisk`, `ifconfig`, `reboot`, `mkfs`。
- 在许多现代系统中，`/sbin` 是一个指向 `/usr/sbin` 的符号链接。

### `/etc` - (Etcetera) 系统配置文件

- 包含所有系统级的配置文件。这是系统管理中最重要的目录之一。
- 例如，网络配置 (`/etc/network/`)、用户密码 (`/etc/passwd`, `/etc/shadow`)、主机名 (`/etc/hostname`)、软件源配置 (`/etc/apt/sources.list`) 等都在这里。
- 这里的 "et cetera" 应该被理解为 "econfig"，因为它几乎只包含文本格式的配置文件。

### `/home` - 用户主目录

- 存储普通用户的个人文件和数据的地方。
- 每个用户都有一个以其用户名命名的子目录，例如 `/home/john`。
- 当用户登录时，其当前工作目录默认为其主目录。
- 用户的个人配置文件（例如 `.bashrc`, `.vimrc`）也存放在这里（作为隐藏文件）。

### `/root` - root 用户的主目录

- 这是系统管理员 `root` 用户的专属主目录。
- 它不在 `/home` 目录下，以防止在 `/home` 分区出现问题时，`root` 用户仍然可以登录并修复系统。

### `/var` - (Variable Files) 可变文件

- 用于存放内容在系统正常运行时会经常变化的文件。
- **`/var/log`**: 存放系统日志文件，如 `syslog`, `auth.log`。排查系统问题时必须查看这里。
- **`/var/www`**: 存放网站服务器（如 Apache, Nginx）的页面文件。
- **`/var/cache`**: 应用程序的缓存数据，例如 `apt` 的软件包缓存。
- **`/var/spool`**: 排队等待处理的数据，例如邮件队列、打印队列。
- **`/var/tmp`**: 一个临时的、重启后不清空的文件目录。

### `/tmp` - (Temporary Files) 临时文件

- 用于存放临时文件。
- 所有用户都对这个目录有读写权限。
- 为了安全和空间管理，系统通常会在每次重启时清空 `/tmp` 目录的内容。

### `/usr` - (Unix System Resources) 用户程序和数据

- 这是系统中最大的目录之一，包含了用户安装的应用程序、库、文档等。它被认为是"用户系统资源"，而非"用户"的 home 目录。
- FHS 将 `/usr` 设计为只读的共享数据，这意味着它可以在网络中的多台主机之间共享，而不会被修改。
- **`/usr/bin`**: 非系统启动所必需的基本用户命令。
- **`/usr/sbin`**: 非系统启动所必需的系统管理命令。
- **`/usr/lib`**: 应用程序和命令所需的库文件。
- **`/usr/local`**: 系统管理员手动安装软件的地方。通过编译源码安装的软件通常会放在 `/usr/local/bin`，这使得它们与通过包管理器安装的软件分离开。
- **`/usr/share/doc`**: 安装的软件包的文档。

### `/boot` - 引导加载程序文件

- 包含启动 Linux 系统所需的核心文件。
- 包括 Linux 内核 (`vmlinuz`)、初始内存盘镜像 (`initramfs`/`initrd`) 和引导加载程序 (GRUB) 的配置文件。
- 这是一个至关重要的目录，损坏它可能导致系统无法启动。

### `/dev` - (Device Files) 设备文件

- 在 Linux 中，所有硬件设备都以文件的形式表示。
- `/dev` 目录包含了这些设备文件。
- 例如，`/dev/sda1` 可能代表第一个硬盘的第一个分区，`/dev/tty1` 代表第一个虚拟控制台，`/dev/null` 是一个"黑洞"，任何写入它的数据都会被丢弃。

### `/proc` - (Process Information) 内核和进程信息

- 这是一个虚拟文件系统，它不存在于磁盘上，而是由内核在内存中动态创建的。
- 它提供了对系统内核和正在运行的进程信息的访问接口。
- 例如，你可以通过读取 `/proc/cpuinfo` 来查看 CPU 信息，通过 `/proc/meminfo` 查看内存使用情况。
- 每个正在运行的进程都有一个以其进程ID命名的子目录，如 `/proc/1234`。

### `/sys` - (System Files) 系统文件

- 类似于 `/proc`，`/sys` 也是一个由内核暴露的虚拟文件系统。
- 它提供了比 `/proc` 更结构化的方式来查看和控制系统中的设备和驱动程序。

### `/opt` - (Optional) 可选附加应用程序

- 用于安装来自第三方供应商的可选软件包。
- 按照惯例，每个软件包会安装在一个以其名称命名的子目录中，例如 `/opt/google/chrome`。

### `/media` & `/mnt` - (Media & Mount) 挂载点

- **`/media`**: 现代 Linux 系统用于临时自动挂载可移动介质（如 U 盘、CD-ROM）的挂载点。当你插入一个 U 盘时，系统可能会自动将其挂载到 `/media/your_username/disk_label`。
- **`/mnt`**: 供系统管理员临时手动挂载文件系统的挂载点。例如，你可以手动将一个网络文件系统挂载到 `/mnt` 下的一个子目录。

### `/lib`, `/lib64` - (Libraries) 基本共享库

- 包含 `/bin` 和 `/sbin` 中的命令所必需的基本库文件和内核模块。
- `/lib64` 通常在 64 位系统上用于存放 64 位库。
- 在许多现代系统中，这些目录是指向 `/usr/lib` 和 `/usr/lib64` 的符号链接。

## 目录结构图示

```
/
├── bin/ -> usr/bin/
├── boot/
├── dev/
├── etc/
├── home/
│   └── username/
├── lib/ -> usr/lib/
├── media/
├── mnt/
├── opt/
├── proc/
├── root/
├── run/
├── sbin/ -> usr/sbin/
├── srv/
├── sys/
├── tmp/
├── usr/
│   ├── bin/
│   ├── sbin/
│   ├── lib/
│   ├── local/
│   └── share/
└── var/
    ├── log/
    ├── cache/
    └── www/
``` 