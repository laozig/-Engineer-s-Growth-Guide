# 20. 无线局域网 (WLAN)

无线局域网（Wireless Local Area Network, WLAN）允许设备通过无线电波（而不是网线）连接到网络。它极大地提高了网络的灵活性和移动性，已成为家庭、办公室、学校和公共场所的标准配置。WLAN 的技术标准主要由 IEEE 802.11 协议族定义，我们通常称之为 Wi-Fi。

---

### 20.1 WLAN 的核心组件

1.  **客户端设备 (Client Device)**:
    -   任何支持 Wi-Fi 功能的设备，如笔记本电脑、智能手机、平板电脑、物联网设备等。
    -   它们通过内置或外接的无线网络接口卡（Wireless Network Interface Card, WNIC）来收发无线信号。

2.  **接入点 (Access Point, AP)**:
    -   AP 是无线客户端和有线网络之间的桥梁。它的一端通过无线电波与客户端通信，另一端通过以太网线连接到传统的有线网络（如交换机）。
    -   AP 的主要功能是将 802.11 无线帧转换为 802.3 以太网帧，反之亦然。

3.  **SSID (Service Set Identifier)**:
    -   SSID 就是你通常所说的"Wi-Fi 名称"，例如 `MyHomeWiFi` 或 `Airport_Free_WiFi`。
    -   它是一个最多 32 个字符的文本字符串，用于区分不同的无线网络。AP 会定期广播包含其 SSID 的信标帧（Beacon Frames），让客户端可以发现并连接到该网络。

4.  **BSS (Basic Service Set)**:
    -   由一个 AP 和所有与之关联的客户端组成的一个基本单元，构成了一个覆盖区域，也称为一个"小区"（Cell）。

5.  **ESS (Extended Service Set)**:
    -   当需要覆盖比单个 AP 更大的区域时，可以将多个 AP 连接到同一个有线网络，并为它们配置**相同**的 SSID。
    -   这个由多个 BSS 组成的、具有相同 SSID 的网络就是一个扩展服务集（ESS）。
    -   这使得用户可以在 AP 覆盖范围之间无缝**漫游（Roaming）**，而不会断开网络连接。

---

### 20.2 WLAN 的工作模式

1.  **基础设施模式 (Infrastructure Mode)**:
    -   **最常见**的工作模式。
    -   所有无线客户端都通过一个或多个 AP 来进行通信。即使两台在同一个房间的笔记本电脑需要互相通信，它们的流量也必须先经过 AP 进行中转。
    -   这种模式允许无线网络连接到有线网络，并访问互联网等外部资源。

2.  **Ad-Hoc 模式 (或 IBSS - Independent BSS)**:
    -   也称为点对点（Peer-to-Peer）模式。
    -   在此模式下，客户端设备之间直接进行通信，**无需 AP** 的存在。
    -   适用于临时、小范围的文件共享等场景，但功能有限，无法访问有线网络资源。

---

### 20.3 WLAN 安全

无线信号在空气中传播，任何人都可以轻易地监听，因此安全至关重要。

-   **WEP (Wired Equivalent Privacy)**:
    -   最早的加密标准。
    -   存在严重的设计缺陷，使用静态密钥，几分钟内即可被破解。**绝对不应再使用**。

-   **WPA (Wi-Fi Protected Access)**:
    -   作为 WEP 的临时替代方案推出。
    -   引入了 TKIP (Temporal Key Integrity Protocol)，为每个数据包动态生成加密密钥，安全性大大提高。
    -   但 TKIP 仍然存在一些漏洞。

-   **WPA2 (Wi-Fi Protected Access II)**:
    -   **当前的安全标准**。
    -   使用 CCMP（基于 AES 加密算法）取代了 TKIP，提供了非常强大的加密保护。
    -   是目前个人和企业环境中的主流选择。

-   **WPA3 (Wi-Fi Protected Access III)**:
    -   最新的安全标准，进一步增强了安全性。
    -   提供了更强的加密，并简化了物联网设备的连接过程。
    -   正在逐步取代 WPA2。

**认证模式**:
-   **个人模式 (WPA2-Personal)**:
    -   使用**预共享密钥 (Pre-Shared Key, PSK)** 进行认证。网络中的所有用户共享同一个 Wi-Fi 密码。
    -   适用于家庭和小型办公室。
-   **企业模式 (WPA2-Enterprise)**:
    -   不使用共享密码，而是要求每个用户使用自己唯一的凭据（如用户名和密码）进行认证。
    -   它通过一个独立的认证服务器（通常是 RADIUS 服务器）和 802.1X 协议来实现。
    -   提供了最高的安全级别，适用于对安全要求高的企业环境。

---

### 20.4 无线信道管理

Wi-Fi 使用 2.4 GHz 和 5 GHz 这两个免许可的频段。这些频段被划分成多个**信道（Channels）**。

-   **2.4 GHz 频段**:
    -   优点：穿透性好（能更好地穿过墙壁），覆盖范围更广。
    -   缺点：信道少，且存在大量**信道重叠**。在美国，只有 1、6、11 这三个信道是完全不重叠的。它还容易受到来自微波炉、蓝牙设备、无绳电话等的干扰。
-   **5 GHz 频段**:
    -   优点：信道数量多，没有重叠问题，干扰少，可提供更高的速度。
    -   缺点：穿透性差，覆盖范围较小。

在部署多个 AP 时，为了避免**同频干扰 (Co-Channel Interference)**，应该为相邻的 AP 分配不重叠的信道（例如，在 2.4 GHz 下，交替使用 1、6、11 信道）。现代企业级 WLAN 解决方案通常使用无线局域网控制器（WLC）来集中管理所有 AP，自动进行信道分配和功率调整，以优化网络性能。 