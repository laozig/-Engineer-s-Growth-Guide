# 1. Docker 简介

欢迎来到 Docker 的世界！Docker 是一种革命性的技术，它彻底改变了我们开发、分发和运行应用程序的方式。要理解 Docker，最好的方式是从一个现实世界的比喻开始。

## “集装箱”的革命

在 Docker 出现之前，软件开发和部署面临一个经典难题：“**在我的电脑上明明是好的！**” (It works on my machine!)。一个应用在开发者的笔记本上能完美运行，但一旦部署到测试环境或生产服务器上，就可能因为环境差异（如操作系统版本、依赖库不一致、配置文件不同）而出现各种问题。

想象一下全球航运业在集装箱出现之前的样子：货物形状各异、大小不一，每次装船卸船都需要耗费大量人力和时间，且容易出错和损坏。

**集装箱**的出现改变了一切。无论里面装的是香蕉、汽车还是电子产品，它们都被标准化地封装在同样尺寸的箱子里。这使得运输、装卸和存储变得极其高效和可靠。

**Docker 就是软件世界的“集装箱”**。它将你的应用程序以及运行它所需的一切——代码、运行时、系统工具、库和设置——全部打包到一个轻量级、可移植的、自给自足的单元中，这个单元就是**容器 (Container)**。

这个标准化的“容器”可以在任何安装了 Docker 的机器上运行，无论是开发者的 Mac、测试服务器的 Ubuntu，还是云端的 Red Hat 系统，其内部环境都保持完全一致。

## 容器 vs. 虚拟机

人们常常将容器与虚拟机 (VM) 混淆，但它们在架构上有本质区别：

-   **虚拟机 (Virtual Machine)**: 在物理硬件（Host OS）之上，通过一个 Hypervisor（虚拟机管理程序），运行一个**完整的客户操作系统 (Guest OS)**，包括其独立的内核。应用则运行在这个客户操作系统之上。这就像在一座房子里再盖一座完整的、有独立地基的小房子。
    -   **优点**: 完全隔离，安全性极高。
    -   **缺点**: 资源开销大（每个 VM 都要占用 GB 级的内存和存储），启动缓慢。

-   **容器 (Container)**: 所有容器都**共享宿主机 (Host OS) 的内核**。容器内只包含应用程序及其依赖（即所谓的“用户空间”），它们作为独立的进程在宿主机的操作系统上运行。这就像在一座大房子里，用轻便的隔板隔出多个独立的房间。
    -   **优点**: 启动速度极快（秒级甚至毫秒级），资源占用极少，轻量级。
    -   **缺点**: 隔离性不如 VM，所有容器共享同一个内核。

![Container vs VM Diagram](https://i.imgur.com/your-container-vm-image.png) <!-- 你需要替换成真实的图片链接 -->

对于绝大多数应用场景，容器提供的隔离性已经足够，而它带来的效率提升是革命性的。

## Docker 的核心组件

理解 Docker 需要掌握四个核心概念：

1.  **Docker 引擎 (Docker Engine)**
    -   它是 Docker 的核心，一个采用客户端/服务器 (C/S) 架构的应用程序。
    -   **服务器 (Server)**: 一个被称为守护进程 (daemon) 的长期运行的程序，负责创建和管理 Docker 对象，如镜像、容器、网络和卷。
    -   **客户端 (Client)**: Docker 命令行工具 (`docker`)，我们通过它与 Docker 守护进程进行交互。

2.  **镜像 (Image)**
    -   一个**只读**的模板，包含了创建 Docker 容器的说明。
    -   镜像是分层构建的。例如，一个 Python 应用的镜像可能基于一个包含了 Python 运行时的镜像，而这个 Python 镜像又基于一个基础的 Ubuntu 镜像。
    -   你可以自己创建镜像（通过 Dockerfile），也可以使用他人发布在公共仓库（如 Docker Hub）中的镜像。

3.  **容器 (Container)**
    -   镜像的一个**可运行实例**。它是镜像的**可写**层。
    -   容器是封装了应用程序代码、库和依赖的隔离环境。
    -   你可以对一个镜像创建、启动、停止、移动或删除多个容器。

4.  **仓库 (Registry)**
    -   一个集中存储和分发 Docker 镜像的服务。
    -   **Docker Hub** 是最大、最常用的公共仓库。
    -   你也可以在自己的组织内部搭建私有仓库，用于存储和管理内部的镜像。

## 总结

Docker 通过标准化的容器技术，解决了应用部署中的环境一致性问题，使得应用的交付过程变得前所未有的简单、快速和可靠。它已成为现代软件开发（特别是微服务和 DevOps）不可或-   [x] 1. [Docker 简介](introduction.md)
缺的基础设施。 