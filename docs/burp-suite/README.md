# Burp Suite Web安全测试工具

<div align="center">
  <img src="../../assets/burp-suite-logo.png" alt="Burp Suite Logo" width="200">
</div>

> Burp Suite是一个集成化的Web应用程序安全测试平台，为Web应用安全专业人员提供了全面的测试工具集。

## 目录

### 基础知识
- [简介与概述](#简介)
- [安装与配置](#安装与配置)
- [基本界面介绍](#界面介绍)
- [入门操作指南](#基本操作)
- **完整基础内容**: [Burp Suite基础知识文档](basic.md)

### 进阶技能
- [代理拦截与修改](#代理拦截与修改)
- [扫描与漏洞发现](#扫描与漏洞发现)
- [重放与fuzzing](#重放与fuzzing)
- [会话处理技术](#会话处理技术)
- [宏与序列化操作](#宏与序列化操作)
- **完整进阶内容**: [Burp Suite进阶内容文档](advanced.md)

### 高级功能
- [扩展与插件开发](#扩展与插件开发)
- [自动化测试框架](#自动化测试框架)
- [高级漏洞利用技术](#高级漏洞利用技术)
- [API安全测试](#API安全测试)
- [持续集成与DevSecOps](#持续集成与DevSecOps)
- **完整高级内容**: [Burp Suite高级功能文档](expert.md)

### 实用参考
- [常见问题解答](#常见问题)
- [资源与参考资料](#资源与参考)
- [案例研究](#案例研究)
- **详细案例分析**: [Burp Suite实战案例研究](case-studies.md)

## 简介

Burp Suite是由PortSwigger公司开发的Web应用安全测试软件。作为行业标准工具，它广泛应用于Web应用安全评估、渗透测试和漏洞研究领域。Burp Suite提供了一系列紧密集成的特性，使安全专业人员能够有效地发现和验证Web应用程序中的安全漏洞。

### 主要特点

#### 版本与许可
- **Burp Suite Community Edition**：免费版，具有基本功能
- **Burp Suite Professional**：商业版，提供全套功能
- **Burp Suite Enterprise Edition**：企业版，支持自动化和扩展部署

#### 核心功能
- **代理服务器**：拦截、检查和修改Web请求与响应
- **扫描器**：自动识别常见Web漏洞
- **入侵者**：对Web应用执行各种自定义攻击
- **中继器**：手动修改和重放单个HTTP请求
- **解码器**：转换各种数据编码格式
- **比较器**：分析数据差异
- **提取器**：从响应中提取有用信息

#### 工具优势
- **强大的扫描能力**：识别OWASP Top 10等安全问题
- **高度可配置**：适应各种测试场景和需求
- **可扩展性**：支持插件和自定义扩展开发
- **全面的API支持**：便于自动化和集成
- **详细的报告功能**：清晰展示测试结果和修复建议

### Burp Suite与其他工具对比

| 特性 | Burp Suite | OWASP ZAP | Nikto | w3af |
|------|------------|-----------|-------|------|
| 许可证 | 商业/免费版 | 开源/免费 | 开源/免费 | 开源/免费 |
| 自动扫描 | 专业版 | 内置 | 内置 | 内置 |
| 被动扫描 | 支持 | 支持 | 有限 | 支持 |
| 主动扫描 | 专业版 | 支持 | 支持 | 支持 |
| 代理功能 | 强大 | 中等 | 无 | 基础 |
| 插件生态 | 丰富 | 中等 | 有限 | 有限 |
| 易用性 | 高 | 中等 | 低 | 中等 |
| 报告质量 | 高 | 中等 | 基础 | 中等 |
| 企业支持 | 提供 | 社区 | 社区 | 社区 |

## 安装与配置

### 系统需求

- **操作系统**：
  - Windows 7/8/10/11
  - macOS 10.12+
  - Linux (Debian/Ubuntu/CentOS等)
- **硬件**：
  - 处理器：双核CPU或更高
  - 内存：4GB RAM (推荐8GB+)
  - 磁盘空间：1GB可用空间
- **软件**：
  - Java Runtime Environment 11或更高版本
  - 现代化Web浏览器
  - 网络连接(在线激活和更新)

### 下载与安装步骤

#### Windows系统
1. 访问[官方网站](https://portswigger.net/burp/releases)下载安装程序
2. 运行安装程序(.exe文件)
3. 接受许可协议并选择安装位置
4. 完成安装向导
5. 如使用专业版，输入许可密钥激活

#### macOS系统
1. 从官网下载dmg安装包
2. 打开dmg文件
3. 将Burp Suite拖到应用程序文件夹
4. 从应用程序启动器运行Burp Suite
5. 如使用专业版，输入许可密钥激活

#### Linux系统
1. 下载Linux安装程序(.sh文件)
2. 添加执行权限：
   ```bash
   chmod +x burpsuite_community_linux_v2022_X.sh
   ```
3. 运行安装程序：
   ```bash
   ./burpsuite_community_linux_v2022_X.sh
   ```
4. 按照安装向导完成安装
5. 如使用专业版，输入许可密钥激活

### 首次启动配置

1. **Java配置**
   - Burp Suite使用内置JRE，通常无需额外配置
   - 如遇内存问题，可配置Java堆大小：
     ```
     java -jar -Xmx2g burpsuite_community.jar
     ```

2. **代理设置**
   - 默认监听127.0.0.1:8080
   - 可在Proxy > Options中修改
   - 根据需要配置对外部网络的监听

3. **SSL证书设置**
   - 导出Burp CA证书：Proxy > Options > Import / Export CA Certificate
   - 将证书安装到浏览器/操作系统
   - 针对移动设备测试，需安装证书到相应设备

4. **浏览器配置**
   - 配置浏览器代理指向Burp(127.0.0.1:8080)
   - 推荐使用Burp提供的浏览器插件:
     - Proxy SwitchyOmega(Chrome)
     - FoxyProxy(Firefox)

5. **用户设置保存**
   - Burp > User options > Save user options
   - 保存配置以便下次使用

### 扩展与插件安装

1. **官方BApp Store**：
   - Extender > BApp Store
   - 浏览和安装第三方插件

2. **手动安装插件**：
   - Extender > Extensions > Add
   - 选择插件类型(Java/.jar或Python)
   - 浏览并选择插件文件

3. **常用插件推荐**：
   - Logger++：增强日志功能
   - Software Vulnerability Scanner：额外漏洞检测
   - JSON Beautifier：格式化JSON响应
   - Retire.js：检测已知脆弱JavaScript库
   - Autorize：自动化授权测试

## 界面介绍

### 主界面布局

Burp Suite的界面由多个选项卡组成，每个选项卡提供特定功能：

1. **Target(目标)**：显示目标应用程序的站点地图和作用域设置
2. **Proxy(代理)**：拦截和修改HTTP/HTTPS流量
3. **Scanner(扫描器)**：自动查找Web漏洞(专业版)
4. **Intruder(入侵者)**：定制化攻击工具
5. **Repeater(中继器)**：手动修改和重放请求
6. **Sequencer(序列化工具)**：分析会话令牌的随机性
7. **Decoder(解码器)**：转换数据编码
8. **Comparer(比较器)**：比较数据差异
9. **Extender(扩展器)**：管理Burp扩展
10. **Project Options(项目选项)**：项目特定设置
11. **User Options(用户选项)**：跨项目用户设置

### Target(目标)模块详解

Target模块提供目标Web应用程序的总览：

#### Site Map(站点地图)
- 显示所有已发现的内容和结构
- 以树形结构展示主机、URL路径
- 颜色编码指示内容类型和状态
- 右键菜单提供各种功能操作

#### Scope(作用域)
- 定义测试范围内的URL模式
- 包含/排除特定域或路径
- 影响其他工具的过滤和扫描行为

### Proxy(代理)模块详解

Proxy是Burp最常用的组件之一：

#### Intercept(拦截)
- 拦截浏览器请求和响应
- 实时查看和修改HTTP流量
- 转发、丢弃或修改请求
- 突出显示参数和关键区域

#### HTTP History(HTTP历史)
- 记录所有通过代理的流量
- 高级过滤和搜索功能
- 请求和响应详细信息显示
- 右键上下文菜单提供进一步操作

#### WebSockets History
- 记录WebSocket通信
- 显示双向消息交换
- 支持实时拦截和修改

## 基本操作

### 设置代理与证书

1. **配置Burp代理**
   - 默认监听127.0.0.1:8080
   - 在Proxy > Options中可自定义设置
   - 可配置多个代理监听器(不同端口或接口)

2. **配置浏览器代理**
   - **手动设置**：浏览器代理设置指向127.0.0.1:8080
   - **浏览器扩展**：使用代理管理扩展
   - **Burp浏览器**：使用内置浏览器(基于Chromium)

3. **安装CA证书**
   - 访问http://burp后，点击"CA Certificate"下载
   - **Windows安装**：
     - 双击证书文件，选择"将所有证书放入下列存储"
     - 选择"受信任的根证书颁发机构"
   - **macOS安装**：
     - 导入到钥匙串
     - 设置为"始终信任"
   - **Firefox安装**：
     - 设置 > 隐私与安全 > 证书 > 查看证书
     - 导入证书并选择"信任此CA标识网站"

### 基础拦截与分析

1. **开始拦截**
   - 确保Proxy > Intercept处于"Intercept is on"状态
   - 通过配置好代理的浏览器访问目标网站
   - 观察请求在Burp中被拦截

2. **请求分析**
   - 查看请求头、参数和正文
   - 分析HTTP方法、路径和协议版本
   - 检查Cookie、认证和会话相关信息
   - 识别潜在的敏感信息

3. **请求操作**
   - **转发(Forward)**：将请求发送到服务器
   - **丢弃(Drop)**：丢弃请求不发送
   - **修改(Edit)**：更改请求内容后发送
   - **操作(Action)**：其他高级操作

4. **响应处理**
   - 配置是否拦截响应(Options > Intercept server responses)
   - 分析服务器响应状态码、头和正文
   - 检查安全头、敏感信息泄露
   - 修改响应内容进行测试

### 使用Target站点地图

1. **浏览站点结构**
   - 自动构建访问过的网站结构
   - 按主机、路径层次显示
   - 通过图标和颜色区分资源类型

2. **站点分析**
   - 右键选择目标 > 发送到Spider(爬虫)
   - 检查页面内容、链接和脚本
   - 识别站点功能模块和架构

3. **定义目标作用域**
   - Target > Scope > Include in scope
   - 添加特定URL模式或域
   - 配置包含/排除规则
   - 设置其他模块只显示作用域内项目

4. **内容发现**
   - 右键选择 > Engagement tools > Discover content
   - 配置目录和文件扫描选项
   - 查找隐藏目录、备份文件和敏感信息

### 常见问题

- **流量未通过Burp**：检查代理配置和监听设置
- **HTTPS网站错误**：确认CA证书正确安装
- **Burp运行缓慢**：增加Java堆内存，减少历史记录大小
- **特定请求无法拦截**：检查拦截规则和过滤器配置
- **移动应用无法代理**：确认网络设置和证书正确配置 