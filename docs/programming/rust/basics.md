# RuståŸºç¡€è¯­æ³•

æœ¬æ–‡æ¡£ä»‹ç»Rustç¼–ç¨‹è¯­è¨€çš„åŸºç¡€è¯­æ³•å’Œæ ¸å¿ƒæ¦‚å¿µï¼Œä¸ºåˆå­¦è€…æä¾›å¿«é€Ÿå…¥é—¨æŒ‡å—ã€‚

## ç›®å½•

- [å˜é‡ä¸å¸¸é‡](#å˜é‡ä¸å¸¸é‡)
- [åŸºæœ¬æ•°æ®ç±»å‹](#åŸºæœ¬æ•°æ®ç±»å‹)
- [è¿ç®—ç¬¦](#è¿ç®—ç¬¦)
- [æ§åˆ¶æµ](#æ§åˆ¶æµ)
- [å‡½æ•°](#å‡½æ•°)
- [æ³¨é‡Š](#æ³¨é‡Š)
- [æ‰€æœ‰æƒç³»ç»Ÿä»‹ç»](#æ‰€æœ‰æƒç³»ç»Ÿä»‹ç»)

## å˜é‡ä¸å¸¸é‡

### å˜é‡å£°æ˜

åœ¨Rustä¸­ï¼Œå˜é‡é»˜è®¤æ˜¯ä¸å¯å˜çš„ã€‚ä½¿ç”¨`let`å…³é”®å­—å£°æ˜å˜é‡ï¼š

```rust
// ä¸å¯å˜å˜é‡
let name = "å¼ ä¸‰";

// å¯å˜å˜é‡éœ€è¦ä½¿ç”¨mutå…³é”®å­—
let mut age = 30;
age = 31; // æ­£ç¡®ï¼šå¯ä»¥ä¿®æ”¹å¯å˜å˜é‡

// é‡å½±ï¼ˆShadowingï¼‰ï¼šä½¿ç”¨ç›¸åŒåç§°å£°æ˜æ–°å˜é‡
let value = 5;
let value = value + 1; // valueç°åœ¨æ˜¯6
let value = value * 2; // valueç°åœ¨æ˜¯12
```

### å¸¸é‡å£°æ˜

å¸¸é‡ä½¿ç”¨`const`å…³é”®å­—å£°æ˜ï¼Œå¿…é¡»æŒ‡å®šç±»å‹ï¼Œä¸”åªèƒ½è®¾ç½®ä¸ºå¸¸é‡è¡¨è¾¾å¼ï¼š

```rust
// å¸¸é‡å¿…é¡»æŒ‡å®šç±»å‹
const MAX_POINTS: u32 = 100_000;
const PI: f32 = 3.14159;
```

## åŸºæœ¬æ•°æ®ç±»å‹

### æ•´æ•°ç±»å‹

Rustæœ‰å¤šç§æ•´æ•°ç±»å‹ï¼ŒåŒºåˆ†æœ‰ç¬¦å·å’Œæ— ç¬¦å·ï¼š

```rust
// æœ‰ç¬¦å·æ•´æ•°ï¼ˆå¯ä»¥è¡¨ç¤ºè´Ÿæ•°ï¼‰
let a: i8 = -128;    // -128åˆ°127
let b: i16 = 32000;  // -32768åˆ°32767
let c: i32 = 2000000000; // 32ä½æœ‰ç¬¦å·æ•´æ•°ï¼ˆé»˜è®¤ï¼‰
let d: i64 = 9000000000000000000; // 64ä½æœ‰ç¬¦å·æ•´æ•°
let e: i128 = 170141183460469231731687303715884105727; // 128ä½æœ‰ç¬¦å·æ•´æ•°

// æ— ç¬¦å·æ•´æ•°ï¼ˆåªèƒ½æ˜¯æ­£æ•°ï¼‰
let f: u8 = 255;     // 0åˆ°255
let g: u16 = 65000;  // 0åˆ°65535
let h: u32 = 4000000000; // 32ä½æ— ç¬¦å·æ•´æ•°
let i: u64 = 18000000000000000000; // 64ä½æ— ç¬¦å·æ•´æ•°

// å¯è‡ªé€‚åº”å¤§å°çš„æ•´æ•°
let j: isize = 9000; // å–å†³äºç³»ç»Ÿæ¶æ„ï¼ˆ32ä½æˆ–64ä½ï¼‰
let k: usize = 9000; // å–å†³äºç³»ç»Ÿæ¶æ„ï¼ˆ32ä½æˆ–64ä½ï¼‰
```

### æµ®ç‚¹ç±»å‹

Rustæ”¯æŒä¸¤ç§æµ®ç‚¹æ•°ç±»å‹ï¼š

```rust
let x: f32 = 3.14;       // 32ä½æµ®ç‚¹æ•°
let y: f64 = 3.141592653589793; // 64ä½æµ®ç‚¹æ•°ï¼ˆé»˜è®¤ï¼‰
```

### å¸ƒå°”ç±»å‹

```rust
let is_active: bool = true;
let is_greater = 10 > 5; // is_greateræ˜¯true
```

### å­—ç¬¦ç±»å‹

Rustçš„å­—ç¬¦ç±»å‹ä½¿ç”¨å•å¼•å·ï¼Œæ”¯æŒUnicodeï¼š

```rust
let c: char = 'z';
let z: char = 'â„¤';
let emoji: char = 'ğŸ˜»';
let chinese: char = 'ä¸­';
```

### å­—ç¬¦ä¸²ç±»å‹

Rustæœ‰ä¸¤ç§ä¸»è¦çš„å­—ç¬¦ä¸²ç±»å‹ï¼š

```rust
// å­—ç¬¦ä¸²å­—é¢é‡ - å›ºå®šå¤§å°ï¼Œä¸å¯å˜
let greeting = "ä½ å¥½ï¼Œä¸–ç•Œ";

// Stringç±»å‹ - å¯å˜ï¼Œå¯å¢é•¿
let mut message = String::from("ä½ å¥½");
message.push_str("ï¼ŒRustï¼"); // messageç°åœ¨æ˜¯"ä½ å¥½ï¼ŒRustï¼"
```

### å¤åˆç±»å‹

#### å…ƒç»„ï¼ˆTupleï¼‰

å…ƒç»„æ˜¯å›ºå®šé•¿åº¦çš„å¤šç±»å‹å…ƒç´ é›†åˆï¼š

```rust
// å£°æ˜å…ƒç»„
let person: (String, i32, bool) = (String::from("å¼ ä¸‰"), 30, true);

// è®¿é—®å…ƒç»„å…ƒç´ 
let name = person.0; // "å¼ ä¸‰"
let age = person.1;  // 30
let is_student = person.2; // true

// è§£æ„èµ‹å€¼
let (name, age, is_student) = person;
```

#### æ•°ç»„ï¼ˆArrayï¼‰

æ•°ç»„æ˜¯å›ºå®šé•¿åº¦çš„åŒç±»å‹å…ƒç´ é›†åˆï¼š

```rust
// å£°æ˜æ•°ç»„
let numbers: [i32; 5] = [1, 2, 3, 4, 5];

// åˆ›å»ºåŒ…å«ç›¸åŒå€¼çš„æ•°ç»„
let zeros = [0; 10]; // åˆ›å»º10ä¸ªå…ƒç´ éƒ½æ˜¯0çš„æ•°ç»„

// è®¿é—®æ•°ç»„å…ƒç´ 
let first = numbers[0]; // 1
let second = numbers[1]; // 2
```

## è¿ç®—ç¬¦

### ç®—æœ¯è¿ç®—ç¬¦

```rust
let a = 10;
let b = 3;

let sum = a + b;      // åŠ æ³•: 13
let difference = a - b; // å‡æ³•: 7
let product = a * b;   // ä¹˜æ³•: 30
let quotient = a / b;  // æ•´æ•°é™¤æ³•: 3
let remainder = a % b; // å–ä½™: 1

// è‡ªå¢å’Œè‡ªå‡ï¼ˆRustæ²¡æœ‰++å’Œ--è¿ç®—ç¬¦ï¼‰
let mut c = 5;
c += 1; // è‡ªå¢
c -= 1; // è‡ªå‡
```

### æ¯”è¾ƒè¿ç®—ç¬¦

```rust
let a = 10;
let b = 5;

let equal = a == b;       // ç­‰äº: false
let not_equal = a != b;   // ä¸ç­‰äº: true
let greater = a > b;      // å¤§äº: true
let less = a < b;         // å°äº: false
let greater_equal = a >= b; // å¤§äºç­‰äº: true
let less_equal = a <= b;    // å°äºç­‰äº: false
```

### é€»è¾‘è¿ç®—ç¬¦

```rust
let condition1 = true;
let condition2 = false;

let and_result = condition1 && condition2; // é€»è¾‘ä¸: false
let or_result = condition1 || condition2;  // é€»è¾‘æˆ–: true
let not_result = !condition1;             // é€»è¾‘é: false
```

## æ§åˆ¶æµ

### if æ¡ä»¶è¡¨è¾¾å¼

```rust
let number = 6;

// åŸºæœ¬ifè¯­å¥
if number % 2 == 0 {
    println!("æ•°å­—æ˜¯å¶æ•°");
} else {
    println!("æ•°å­—æ˜¯å¥‡æ•°");
}

// ifæ˜¯è¡¨è¾¾å¼ï¼Œå¯ä»¥èµ‹å€¼ç»™å˜é‡
let result = if number > 0 {
    "æ­£æ•°"
} else if number < 0 {
    "è´Ÿæ•°"
} else {
    "é›¶"
};
println!("æ•°å­—æ˜¯: {}", result);
```

### match æ¨¡å¼åŒ¹é…

```rust
let code = 404;

match code {
    200 => println!("æˆåŠŸ"),
    404 => println!("æœªæ‰¾åˆ°"),
    401 | 403 => println!("æƒé™é”™è¯¯"), // å¤šä¸ªæ¨¡å¼
    400..=499 => println!("å®¢æˆ·ç«¯é”™è¯¯"), // èŒƒå›´
    _ => println!("å…¶ä»–çŠ¶æ€ç "), // é»˜è®¤æƒ…å†µ
}

// matchä¹Ÿæ˜¯è¡¨è¾¾å¼
let message = match code {
    200 => "OK",
    404 => "Not Found",
    _ => "Unknown",
};
```

### å¾ªç¯

#### loop å¾ªç¯

```rust
// æ— é™å¾ªç¯
let mut counter = 0;
let result = loop {
    counter += 1;
    
    if counter == 10 {
        break counter * 2; // ä½¿ç”¨breakè¿”å›å€¼
    }
};
println!("ç»“æœæ˜¯: {}", result); // 20
```

#### while å¾ªç¯

```rust
let mut number = 3;
while number != 0 {
    println!("{}!", number);
    number -= 1;
}
println!("å‘å°„!");
```

#### for å¾ªç¯

```rust
// éå†èŒƒå›´
for i in 1..=5 {
    println!("{}æ¬¡", i);
}

// éå†æ•°ç»„/é›†åˆ
let colors = ["çº¢", "ç»¿", "è“"];
for color in colors.iter() {
    println!("é¢œè‰²: {}", color);
}

// ä½¿ç”¨enumerate()è·å–ç´¢å¼•
for (index, value) in colors.iter().enumerate() {
    println!("ç´¢å¼• {} çš„é¢œè‰²æ˜¯: {}", index, value);
}
```

## å‡½æ•°

### åŸºæœ¬å‡½æ•°å£°æ˜

```rust
// æ— å‚æ•°æ— è¿”å›å€¼å‡½æ•°
fn say_hello() {
    println!("ä½ å¥½ï¼Œä¸–ç•Œï¼");
}

// å¸¦å‚æ•°çš„å‡½æ•°
fn greet(name: &str) {
    println!("ä½ å¥½ï¼Œ{}ï¼", name);
}

// å¸¦è¿”å›å€¼çš„å‡½æ•°ï¼ˆä½¿ç”¨->æŒ‡å®šè¿”å›ç±»å‹ï¼‰
fn add(a: i32, b: i32) -> i32 {
    a + b // æ³¨æ„ï¼šä¸åŠ åˆ†å·è¡¨ç¤ºè¿”å›è¯¥è¡¨è¾¾å¼çš„å€¼
}

// å¸¦å¤šä¸ªè¿”å›å€¼ï¼ˆä½¿ç”¨å…ƒç»„ï¼‰
fn get_coordinates() -> (f64, f64) {
    (23.5, 45.2)
}
```

### å‡½æ•°è°ƒç”¨

```rust
// è°ƒç”¨å‡½æ•°
say_hello();
greet("å¼ ä¸‰");
let sum = add(5, 3); // 8

// è§£æ„å¤šè¿”å›å€¼
let (latitude, longitude) = get_coordinates();
```

## æ³¨é‡Š

Rustæ”¯æŒå•è¡Œæ³¨é‡Šã€å¤šè¡Œæ³¨é‡Šå’Œæ–‡æ¡£æ³¨é‡Šï¼š

```rust
// è¿™æ˜¯å•è¡Œæ³¨é‡Š

/*
è¿™æ˜¯
å¤šè¡Œæ³¨é‡Š
*/

/// æ–‡æ¡£æ³¨é‡Šï¼Œç”¨äºç”Ÿæˆæ–‡æ¡£
/// è¿™äº›æ³¨é‡Šå°†è¢«åŒ…å«åœ¨ç”Ÿæˆçš„APIæ–‡æ¡£ä¸­
fn documented_function() {
    // å‡½æ•°å®ç°
}

//! æ¨¡å—çº§æ–‡æ¡£æ³¨é‡Š
//! ç”¨äºæè¿°æ•´ä¸ªæ¨¡å—æˆ–crate
```

## æ‰€æœ‰æƒç³»ç»Ÿä»‹ç»

Rustçš„æ ¸å¿ƒç‰¹æ€§æ˜¯å…¶ç‹¬ç‰¹çš„æ‰€æœ‰æƒç³»ç»Ÿï¼Œè¿™é‡Œåšç®€å•ä»‹ç»ï¼š

### æ‰€æœ‰æƒè§„åˆ™

1. Rustä¸­æ¯ä¸ªå€¼éƒ½æœ‰ä¸€ä¸ªå˜é‡ä½œä¸ºå…¶æ‰€æœ‰è€…
2. ä¸€æ¬¡åªèƒ½æœ‰ä¸€ä¸ªæ‰€æœ‰è€…
3. å½“æ‰€æœ‰è€…è¶…å‡ºä½œç”¨åŸŸï¼Œå€¼å°†è¢«ä¸¢å¼ƒ

```rust
{
    // sä¸å¯ç”¨ï¼Œå°šæœªå£°æ˜
    let s = String::from("hello"); // sæœ‰æ•ˆ
    
    // å¯ä»¥å¯¹sè¿›è¡Œæ“ä½œ
    
} // sçš„ä½œç”¨åŸŸç»“æŸï¼ŒStringä¼šè¢«è‡ªåŠ¨é‡Šæ”¾
```

### å˜é‡ç§»åŠ¨ï¼ˆMoveï¼‰

```rust
let s1 = String::from("hello");
let s2 = s1; // s1çš„æ‰€æœ‰æƒç§»åŠ¨åˆ°s2ï¼Œs1ä¸å†å¯ç”¨

// println!("{}", s1); // é”™è¯¯ï¼šs1çš„å€¼å·²è¢«ç§»åŠ¨

// å¯¹äºåŸºæœ¬ç±»å‹ï¼ˆæ ˆä¸Šçš„ç®€å•æ•°æ®ï¼‰ï¼Œä¼šè‡ªåŠ¨æ‹·è´ï¼Œä¸ä¼šç§»åŠ¨
let x = 5;
let y = x; // å¤åˆ¶xçš„å€¼ç»™yï¼Œxä»ç„¶å¯ç”¨
println!("x = {}, y = {}", x, y); // æ­£ç¡®
```

### å€Ÿç”¨ï¼ˆBorrowingï¼‰

é€šè¿‡å¼•ç”¨å¯ä»¥ä½¿ç”¨å€¼è€Œä¸è·å–æ‰€æœ‰æƒï¼š

```rust
// ä¸å¯å˜å€Ÿç”¨
fn calculate_length(s: &String) -> usize {
    s.len()
} 

let s1 = String::from("hello");
let len = calculate_length(&s1); // ä¼ é€’å¼•ç”¨
// s1ä»ç„¶å¯ç”¨

// å¯å˜å€Ÿç”¨
fn change(s: &mut String) {
    s.push_str(", world");
}

let mut s1 = String::from("hello");
change(&mut s1); // ä¼ é€’å¯å˜å¼•ç”¨
println!("{}", s1); // "hello, world"
```

Rustçš„å€Ÿç”¨è§„åˆ™ï¼š
1. ä»»æ„æ—¶åˆ»ï¼Œåªèƒ½æœ‰ä¸€ä¸ªå¯å˜å¼•ç”¨ æˆ– å¤šä¸ªä¸å¯å˜å¼•ç”¨
2. å¼•ç”¨å¿…é¡»æ€»æ˜¯æœ‰æ•ˆçš„

---

è¿™äº›æ˜¯Rustè¯­è¨€çš„åŸºç¡€è¯­æ³•å’Œæ ¸å¿ƒæ¦‚å¿µï¼Œäº†è§£è¿™äº›å†…å®¹åï¼Œå»ºè®®è¿›ä¸€æ­¥å­¦ä¹ Rustçš„æ‰€æœ‰æƒã€ç”Ÿå‘½å‘¨æœŸã€é”™è¯¯å¤„ç†ã€ç»“æ„ä½“å’Œæšä¸¾ç­‰æ›´å¤šé«˜çº§ç‰¹æ€§ã€‚ 